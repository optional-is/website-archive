<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>(optional.is)   Backup 2.0 DAS Edition</title>

<link rel="stylesheet" href="../../../../wp-content/themes/optional/style.css" type="text/css" media="all" />
<link rel="alternate" type="application/atom+xml" title="optional.is/required Atom Feed" href="http://feeds2.feedburner.com/optional?format=xml" />
<link rel="pingback" href="https://optional.is/required/xmlrpc.php" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://example.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://optional.is/required/wp-includes/wlwmanifest.xml" />
<link rel="apple-touch-icon-precomposed" href="../../../../../images/apple-touch-icon-precomposed.png"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@optionalBot">
<meta name="twitter:title" content="Backup 2.0 DAS Edition">
<meta name="twitter:description" content="We are always improving our backup regime. Now, we're introducing a new file server into the mix in the form of a DAS.">
<meta name="twitter:creator" content="@optionalBot">
<meta name="twitter:domain" content="http://optional.is">
</head>
<body>


<div id="header">
<h1><a href="../../../../index.html">(optional.is)</a></h1>
</div>

			
		<div class="post-7129 post type-post status-publish format-standard hentry category-briefs category-youre-doing-it-wrong tag-backups tag-cloud tag-das tag-hard-drive tag-nas tag-remote" id="post-7129">
			<h1>Backup 2.0 DAS Edition</h1>
			<div style="border-bottom: 2px solid #36df35; padding: 2em 0; margin-bottom: 2em" class="time"><abbr title="2024-03-19T13:31:00+00:00">Tuesday, March 19th, 02024 at 13:31 UTC</abbr></div>

			<div class="entry">
				
<p><a href="../../../../index.html?p=5991">Back in 02022, we wrote-up about our backup setup</a>. Since then, we&#8217;ve recently shuffled a few things around to continue to improve.</p>



<p>If you haven&#8217;t read it, you should first read <a href="../../../../index.html?p=5991">Backups</a>.</p>



<h2 class="wp-block-heading">3-2-1 Backup rule</h2>



<p>The 3-2-1 method recommends that you have 3 copies of your data, on 2 different mediums with atleast 1 being remote/offsite.</p>



<p><strong>3 Copies of Data</strong> simply means your working copy and (atleast) two copies elsewhere.</p>



<p><strong>2 Different Mediums</strong> to increase redundancy. If all your hard drives are from the same company, manufactures at the same time, and the number of hours it is rated for is the same, that implies that when they do fail, they might all fail within a short window of time. Spreading that risk over different manufactures and different physical media (Tape, HDD, SSD, or others) minimize the risk of any catastrophic failure.</p>



<p><strong>1 Remote Copy</strong> incase there is a fire, earthquake, flood or theft. Keeping one copy somewhere offsite prevents having all your eggs in one basket! Although, it does introduce security issues when your data are no longer stored directly under your control.</p>



<h2 class="wp-block-heading">NAS vs. DAS</h2>



<p>As our main backup, we have a simple 4TB portal, external hard drive (~$100) connected to the router doing daily backups of the computers. There is a second, &#8216;air gapped&#8217; 4TB portable external hard drive which we plugin monthly and backup the computers. That means we have data in 3 places of various age: the computer, the networked daily backup and &#8216;air gapped&#8217; monthly backups, on (at least two) difference mediums.</p>



<p>But we also have loads of photos, videos, old documents and emails which are not on the computers. These are mostly &#8220;cold-storage&#8221; archives which we access as needed.</p>



<p>As part of the 3 copies and 2 mediums recommendation, we ended-up with a plethora of portal hard drives. These are certainly a mis-match of different manufactures and age. We purchase new ones when we out grow the old. Like a hermit crab, we migrate data or split between two.</p>



<figure class="banner"><img decoding="async" src="../../../../wp-content/uploads/2024/03/backup-hard-drives.jpg" alt="A collection of portable hard drives, USB sticks and SD cards."/><figcaption>Our current backup, archived and duplication scheme is in too many places, over too many hard drives.</figcaption></figure>



<p>The data is mirrored between two external hard drives (see the stickers to keep us organized) and a 3rd copy elsewhere in the world. The downside is that every time we make a change to a file on one hard drive that means we need to do it in 3 places, which is a pain. This tend to either be for read-only archives or append-only and not for daily work.</p>



<p>To help get better organized and solve issues of mounting costs continuing to buying more and more external, portable hard drives, we looked into a NAS (Network Attached Storage) device. This would get plugged into the current network and act as a basic file server that also backups and replicates the data.</p>



<p>An entry-level 4 bay NAS* is around $500, plus 4x 4TB hard drives (~$80 each) is another $320. That&#8217;s a total of $820 to get an additional 12TB of storage in RAID5 configuration. To get a similar 12TB of mirrored storage using only 4TB external hard drives means you need to by 24TB worth (4TB * 3 drives * 2 to mirror the data * $100 = $600). You can quickly see how there is an inflection point where a hardware NAS box becomes cheaper and more manageable than 6 external drives. Be warned, NASes come with their own headaches too. They are mini-computers, which means you are becoming a network administrator and having to deal with ports, updates, configurations, etc. There is something to be said for the simple: plug-it-in and forget it.</p>



<p><small>* A proper NAS also can act as a media server, but we&#8217;re just looking for a simple, &#8220;dumb&#8221; file server.</small></p>



<figure class="banner"><img decoding="async" src="../../../../wp-content/uploads/2024/03/qnap-tr-004-1024x665.png" alt="QNAP TR-004 DAS" /></figure>



<p>A DAS (Direct Attached Storage) looks the same as a NAS, but there is no &#8220;computer&#8221;, it is just a box of hard drives that you need to plug-in to a computer. Recently, we picked-up a QNAP TR-004, a 4-bay DAS for ~$220 and put in 2x 4TB hard drives in RAID1 + $160 for a total cost of ~$380. Had we bought just 2 external portable 4TB hard drives that would have cost us only $200. We&#8217;re in a worse position financially, but the next $160 we spend on 2 more 4TB drives jumps use from a 4TB backup in RAID1 to a 12TB in RAID5. The total spend would be ~$540 for 4x 4TB HDD and the DAS. The equivalent 6x 4TB external drives would cost around $600 and a lot of cable juggling!</p>



<p>We&#8217;re not planning for today, we&#8217;re planning for tomorrow with the easy of upgrading and expanding.</p>



<p>Having our own DAS solves two big problems: the ability to grow as we need with four drives bays, and it is RAID, so no need to even think about making sure you plug in both drives and copy updates everywhere! We can use this as more of a working hard drive.</p>



<p>What this doesn&#8217;t solve (yet) is the 1 remote storage.</p>



<hr />



<p>Of course, in one of those &#8220;it won&#8217;t happen to me moments&#8221;, when we started to migrate our 6-7 external hard drives to the new DAS system, the computer hosting the connection crashed. When it rebooted, neither the external DAS nor the portable hard drive would mount. We thought the data on the drives were corrupted and because the DAS is in RAID 1, both drives were instantly corrupted in the same way. Luckily, after poking around we took out the first drive breaking the RAID 1 and managed to get the remaining drive to mount. When we put the first drive back in, the system thought it was a new hard drive and started to rebuild it to sync it in RAID 1 with the remaining working drive. This was a good reminder that redundant drives in RAID protect you from hardware failure, not from data corruption. The 3rd copy (preferably remote) becomes much more important in situations like these.</p>



<h2 class="wp-block-heading">Room for Improvement</h2>



<p>The remote storage is the point that continues to be the most difficult. Services like AWS, Dropbox, Box, Backblaze and more incur monthly fees per device. With 3-4 devices at $7 a month, we&#8217;re at the $300+ a year. While that might not be a big deal, year-over-year it begins to add-up compared to the cost of running the backup hardware locally.</p>



<p>The benefit of the DAS is that if it is shared on the network via a desktop computer that is always connected, those external drives are considered part of the computer for Backblaze. Which means we could get the benefits of a NAS (which are really shared drive(s) on a shared locally networked computer) along with Time Machine backups and only pay for remotely backing-up one computer while actually backing-up everything in the office.</p>



<p>There are other options too. We also recently upgraded some of our networking hardware. It supports Virtual LANs (Local Area Networks) which means that if we had two of these routers at separate locations, we could continue to connect to remote servers as if they were local. We&#8217;ll continue to explore this option to see if we can get &#8216;local backups&#8217; in a remote location. With disk encryption we could even partner with another small company and host their hard drive(s) and they host ours as &#8220;backup buddies&#8221;.</p>



<h2 class="wp-block-heading">Conclusion</h2>



<img decoding="async" src="../../../../wp-content/uploads/2024/03/clarus-smooth-shape.svg" alt="Clarus the Dogcow. Moof!" style="float: right; width: 150px"/>



<p>Remember, LOCKSS (Lots of <s>Cows</s> Copies Keep Stuff Safe), the more copies you have, the more likely the data will survive. Increasing the different storage mediums, locations and redundancy are key.</p>



<p>At a previous job, someone in the ops team once said “You don’t have a backup until you restore it”. That’s absolutely true! It’s the elephant in the room. Sure, we go through the steps to make sure we have our important data on redundant external hard disks and remotely saved, but until we actually try to restore from a backup we aren’t 100% certain it will work.</p>



<p>&#x1f408;&#x200d;&#x2b1b;&#x1f4be;&#x1f4e6; <strong>Schrödinger’s backup box:</strong> until you restore, you simultaneously have a backup and don&#8217;t.</p>

              <div class="postmetadata">
					<p><strong>Categories:</strong> <a href="../../../../category/briefs/index.html" title="View all articles in Briefs" rel="tag category" class="category">Briefs</a>, <a href="../../../../category/youre-doing-it-wrong/index.html" title="View all articles in You're doing it wrong" rel="tag category" class="category">You're doing it wrong</a></p><p><strong>Tags:</strong> <a href="../../../../tag/backups/index.html" rel="tag"  class="tag">backups</a>, <a href="../../../../tag/cloud/index.html" rel="tag"  class="tag">cloud</a>, <a href="../../../../tag/das/index.html" rel="tag"  class="tag">DAS</a>, <a href="../../../../tag/hard-drive/index.html" rel="tag"  class="tag">hard drive</a>, <a href="../../../../tag/nas/index.html" rel="tag"  class="tag">NAS</a>, <a href="../../../../tag/remote/index.html" rel="tag"  class="tag">remote</a></p>			  </div>
			
				
   <div style="border-top: 4px solid #333; border-bottom: 1px solid #ddd; margin: 60px 0 100px 0">
      <style>
         .navigation {
            display: grid;
            grid-template-columns: minmax(200px, 1fr) minmax(20px, 1fr)  minmax(200px, 1fr);
            grid-gap: 0px;
            background-color: #f7f7f7;
			padding-bottom: 0;
         }
         .navigation div a { display: block; height: 100%; text-decoration: none; color: #333; padding: 0 1em; background-color: #f7f7f7; }
		 .navigation div a:visited { background-color: #f7f7f7; }
         .navigation div a:hover { background-color: rgb(0,0,0,0.1); }
         .navigation  div  { line-height: 20px; font-size: 14px; margin: 15px 0; }
         .navigation div span { display: block; margin: 0; padding: 0 0 40px 0; font-weight: normal; color: #666; }
        .navigation div span.time, .navigation div span.time { display: block; margin: 0; padding: 0; font-weight: 600; font-size: 24px; line-height: 48px; padding-top: 10px; color: #444;}
         .navigation .prev, .navigation .next, .navigation .home  { margin: 0; padding: 0; text-align: left; } 
		  @media screen and (max-width: 550px) {
			  .navigation { display: block; }
			  .navigation .prev,  .navigation .next { float: none; }
			  .navigation .home { border: 1px solid #ddd; }
		  } 
		  
		  
		  
      </style>
      <div class="navigation">
         <div class="prev" >
<a href="../../15/week-682-683/index.html" style="text-decoration: none;"><span class="time">15 March 02024</span><span>Week #682 & #683</span></a>			 
         </div>


         <div class="home" style="border-left: 1px solid #ddd; border-right: 1px solid #ddd; text-align: center;">
            <a href="../../../../../index.html"><svg width="50%"><use xlink:href="#optional-logo"></use></svg></a>
         </div>

         <div class="next">
			 <a href="../../../04/05/week-684-686/index.html" style="text-decoration: none;"><span class="time">05 April 02024</span><span>Week #684-686</span></a>         </div>
      </div>
   </div> 				
				
				
				
				
				
				
				
				
				
		<!--		
		<div class="navigation" style="border-bottom: 1px solid #aaa">
			<div class="prev"><div class="time">15 March 02024</div><a href="/required/2024/03/15/week-682-683/" style="text-decoration: none;>&laquo; Week #682 & #683</a></div>
			<div class="next"><div class="time">05 April 02024</div><a href="/required/2024/04/05/week-684-686/" style="text-decoration: none;">Week #684-686 &raquo;</a></div>
		</div>
-->
			</div>
			
		</div>

	
<!-- You can start editing here. -->


			<!-- If comments are closed. -->
		<!-- <p class="nocomments">Comments are closed.</p> -->

	


	
<svg class="svgs" version="1.1" height="0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

   <symbol id="optional-logo" viewBox="0 0 284.478 66.043">
   <path d="M14.128,33.557c0-4.464,1.599-8.264,4.798-11.39c3.185-3.131,7.081-4.704,11.673-4.704c4.607,0,8.519,1.586,11.739,4.736
      c3.164,3.148,4.75,7.021,4.75,11.612c0,4.629-1.586,8.513-4.784,11.64c-3.22,3.108-7.164,4.665-11.84,4.665
      c-4.63,0-8.508-1.584-11.64-4.76C15.695,42.226,14.128,38.293,14.128,33.557z M21.427,33.685c0,3.088,0.824,5.527,2.472,7.324
      c1.699,1.821,3.922,2.734,6.701,2.734c2.788,0,5.023-0.898,6.692-2.702c1.673-1.797,2.507-4.198,2.507-7.202
      c0-3.003-0.834-5.404-2.507-7.202c-1.698-1.814-3.922-2.727-6.692-2.727c-2.734,0-4.948,0.912-6.635,2.727
      C22.273,28.456,21.427,30.809,21.427,33.685z"></path>
   <path d="M57.723,66.043H50.58V18.326h7.143v3.364c2.817-2.809,6.004-4.228,9.583-4.228c4.248,0,7.75,1.573,10.5,4.704
      c2.792,3.109,4.188,7.032,4.188,11.771c0,4.63-1.382,8.492-4.154,11.573c-2.75,3.069-6.218,4.604-10.405,4.604
      c-3.618,0-6.851-1.45-9.711-4.351V66.043z M74.702,33.967c0-2.961-0.813-5.373-2.417-7.236c-1.626-1.875-3.68-2.82-6.158-2.82
      c-2.623,0-4.747,0.912-6.372,2.727c-1.627,1.819-2.448,4.211-2.448,7.175c0,2.894,0.82,5.283,2.448,7.169
      c1.609,1.84,3.721,2.763,6.345,2.763c2.473,0,4.514-0.938,6.123-2.794C73.871,39.089,74.702,36.761,74.702,33.967z"></path>
   <path d="M94.226,24.988v24.237h-7.138V24.988h-3.041v-6.662h3.041V6.997h7.138v11.329h3.113v6.662H94.226z"></path>
   <path d="M100.306,7.103c0-1.257,0.453-2.328,1.365-3.236c0.907-0.906,1.999-1.366,3.271-1.366c1.289,0,2.384,0.46,3.298,1.366
      c0.905,0.891,1.365,1.975,1.365,3.27c0,1.289-0.46,2.386-1.365,3.299c-0.886,0.912-1.981,1.365-3.271,1.365
      c-1.288,0-2.39-0.453-3.297-1.365C100.759,9.521,100.306,8.415,100.306,7.103z M108.526,18.326v30.899h-7.148V18.326H108.526z"></path>
   <path d="M112.045,33.557c0-4.464,1.599-8.264,4.789-11.39c3.194-3.131,7.093-4.704,11.673-4.704c4.614,0,8.532,1.586,11.745,4.736
      c3.171,3.148,4.759,7.021,4.759,11.612c0,4.629-1.599,8.513-4.791,11.64c-3.214,3.108-7.158,4.665-11.834,4.665
      c-4.63,0-8.513-1.584-11.644-4.76C113.61,42.226,112.045,38.293,112.045,33.557z M119.341,33.685c0,3.088,0.824,5.527,2.473,7.324
      c1.694,1.821,3.927,2.734,6.693,2.734c2.794,0,5.025-0.898,6.701-2.702c1.669-1.797,2.5-4.198,2.5-7.202
      c0-3.003-0.832-5.404-2.5-7.202c-1.694-1.814-3.93-2.727-6.701-2.727c-2.722,0-4.934,0.912-6.626,2.727
      C120.187,28.456,119.341,30.809,119.341,33.685z"></path>
   <path d="M148.502,18.326h7.169v2.854c2.496-2.475,5.306-3.718,8.443-3.718c3.59,0,6.389,1.142,8.401,3.4
      c1.733,1.93,2.602,5.064,2.602,9.425v18.938h-7.171V31.993c0-3.043-0.425-5.146-1.271-6.309c-0.819-1.178-2.324-1.774-4.503-1.774
      c-2.375,0-4.055,0.784-5.04,2.346c-0.979,1.537-1.461,4.237-1.461,8.075v14.895h-7.169V18.326z"></path>
   <path d="M202.845,18.326h7.176v30.899h-7.176v-3.233c-2.938,2.753-6.103,4.124-9.489,4.124c-4.269,0-7.799-1.539-10.593-4.634
      c-2.771-3.15-4.154-7.083-4.154-11.798c0-4.637,1.383-8.497,4.154-11.584c2.772-3.088,6.24-4.638,10.406-4.638
      c3.596,0,6.822,1.484,9.676,4.45V18.326z M185.905,33.685c0,2.96,0.79,5.373,2.373,7.232c1.632,1.878,3.683,2.826,6.158,2.826
      c2.644,0,4.783-0.913,6.41-2.734c1.627-1.882,2.445-4.27,2.445-7.17c0-2.893-0.818-5.284-2.445-7.169
      c-1.627-1.835-3.738-2.76-6.346-2.76c-2.451,0-4.502,0.927-6.157,2.792C186.719,28.584,185.905,30.915,185.905,33.685z"></path>
   <path d="M222.102,7.014v42.212h-7.135V7.014H222.102z"></path>
   <path d="M225.76,44.864c0-1.188,0.437-2.211,1.3-3.08c0.867-0.864,1.902-1.299,3.108-1.299s2.246,0.435,3.109,1.299
      c0.869,0.869,1.305,1.901,1.305,3.108c0,1.228-0.436,2.274-1.305,3.145c-0.846,0.838-1.882,1.266-3.109,1.266
      c-1.25,0-2.295-0.428-3.138-1.266C226.179,47.188,225.76,46.13,225.76,44.864z"></path>
   <path d="M237.121,7.103c0-1.257,0.454-2.328,1.368-3.236c0.912-0.906,1.996-1.366,3.27-1.366c1.287,0,2.389,0.46,3.296,1.366
      c0.908,0.891,1.361,1.975,1.361,3.27c0,1.289-0.453,2.386-1.361,3.299c-0.891,0.912-1.974,1.365-3.265,1.365
      c-1.294,0-2.389-0.453-3.301-1.365C237.575,9.521,237.121,8.415,237.121,7.103z M245.338,18.326v30.899h-7.131V18.326H245.338z"></path>
   <path d="M269.089,23.594l-5.893,3.137c-0.936-1.875-2.087-2.82-3.464-2.82c-0.659,0-1.216,0.215-1.683,0.651
      c-0.463,0.433-0.697,0.985-0.697,1.66c0,1.185,1.379,2.355,4.128,3.519c3.784,1.633,6.335,3.127,7.64,4.499
      c1.312,1.376,1.971,3.223,1.971,5.546c0,2.979-1.1,5.472-3.305,7.477c-2.129,1.903-4.712,2.854-7.738,2.854
      c-5.186,0-8.846-2.528-11.004-7.579l6.086-2.826c0.848,1.482,1.494,2.422,1.937,2.826c0.868,0.802,1.903,1.206,3.109,1.206
      c2.411,0,3.617-1.1,3.617-3.305c0-1.265-0.935-2.45-2.794-3.558c-0.72-0.354-1.432-0.7-2.152-1.04
      c-0.725-0.343-1.455-0.686-2.19-1.051c-2.075-1.019-3.535-2.029-4.383-3.041c-1.071-1.295-1.614-2.95-1.614-4.986
      c0-2.688,0.918-4.898,2.761-6.66c1.874-1.753,4.167-2.64,6.85-2.64C264.225,17.463,267.168,19.512,269.089,23.594z"></path>
   <path d="M5.212,7.544l4.951,1.903C8.43,13.585,7.214,17.41,6.522,20.916c-0.348,1.775-0.608,3.646-0.785,5.605
      c-0.171,1.958-0.265,4.092-0.265,6.411c0,2.336,0.093,4.479,0.265,6.438c0.177,1.96,0.437,3.823,0.785,5.606
      c0.681,3.483,1.893,7.3,3.641,11.438l-4.951,1.902C1.742,51.078,0,42.615,0,32.933C0,23.257,1.742,14.793,5.212,7.544z"></path>
   <path d="M279.288,58.503l-4.951-1.903c1.748-4.149,2.961-7.955,3.646-11.446c0.713-3.489,1.068-7.501,1.068-12.042
      c0-4.505-0.355-8.516-1.068-12.02c-0.697-3.505-1.913-7.334-3.646-11.466l4.951-1.908c3.464,7.252,5.189,15.717,5.189,25.394
      C284.478,42.785,282.752,51.245,279.288,58.503z"></path>
   </symbol>

</svg>
<div id="footer" class="vcard">
  <div>
  <div style="float: left; font-size: 16px;">
	  <form id="search" class="single" action="https://duckduckgo.com/">
				<input type="hidden" name="sites" value="optional.is">
				<input type="search" name="q" placeholder="Find..."><button>Search</button>
			</form>
	  <!--
<form method="get" id="searchform" action="http://optional.is/required/" >
<div><input type="text" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></div>
</form>
-->
Copyright 2009 - <a href="http://suda.co.uk/">Brian Suda</a>
</div> 
<a href="../../../../../index.html" class="url fn org" style="float:right; display: block;">(optional.is)</a>
  </div>
</div>
<script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">try { var pageTracker = _gat._getTracker("UA-2497164-9"); pageTracker._trackPageview(); } catch(err) {}</script>

</body>
</html>
<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/required\/*"},{"not":{"href_matches":["\/required\/wp-*.php","\/required\/wp-admin\/*","\/required\/wp-content\/uploads\/*","\/required\/wp-content\/*","\/required\/wp-content\/plugins\/*","\/required\/wp-content\/themes\/optional\/*","\/required\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>

<!-- Dynamic page generated in 0.293 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2025-07-16 20:57:28 -->

<!-- super cache -->